<?php

namespace LaravelQL\LaravelQL;

use Illuminate\Support\ServiceProvider;
use RecursiveDirectoryIterator;
use RecursiveIteratorIterator;

class LaravelQLServiceProvider extends ServiceProvider
{

    public function boot(): void
    {
        if(env('LARAVEL_QL_DEBUG', false)) {
            config(['logging.channels.single.path' => dirname(__DIR__).'/storage/logs/QL.log']);
        }
        $this->loadRoutesFrom(__DIR__.'/../routes/api.php');
        QLContainer::grepModels();
        QLContainer::generate();
    }

    public function register()
    {
        parent::register(); // TODO: Change the autogenerated stub
    }

}
